(self.webpackChunkant_design_pro=self.webpackChunkant_design_pro||[]).push([[845],{77501:function(ae,$,n){"use strict";n.r($),n.d($,{default:function(){return ee}});var v=n(3182),ue=n(57663),w=n(71577),se=n(49111),V=n(19650),oe=n(59250),W=n(13013),le=n(30887),y=n(99210),ie=n(71153),h=n(60331),F=n(2824),z=n(94043),d=n.n(z),x=n(67294),L=n(81907),M=n(85224),U=n(70678),Y=n(8812),K=n(49101),g=n(11849),P=n(21010);function N(a,r,o,e){return R.apply(this,arguments)}function R(){return R=(0,v.Z)(d().mark(function a(r,o,e,c){return d().wrap(function(m){for(;;)switch(m.prev=m.next){case 0:return m.abrupt("return",(0,P.WY)("/api/account",(0,g.Z)({method:"GET",params:(0,g.Z)((0,g.Z)({},r),{},{sorter:o,filter:e})},c||{})));case 1:case"end":return m.stop()}},a)})),R.apply(this,arguments)}function H(a){return T.apply(this,arguments)}function T(){return T=(0,v.Z)(d().mark(function a(r){return d().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,P.WY)("/api/account",(0,g.Z)({method:"PUT"},r||{})));case 1:case"end":return e.stop()}},a)})),T.apply(this,arguments)}function ce(a){return A.apply(this,arguments)}function A(){return A=_asyncToGenerator(_regeneratorRuntime.mark(function a(r){return _regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",request("/api/account",_objectSpread({method:"POST"},r||{})));case 1:case"end":return e.stop()}},a)})),A.apply(this,arguments)}function de(a){return E.apply(this,arguments)}function E(){return E=_asyncToGenerator(_regeneratorRuntime.mark(function a(r){return _regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",request("/api/account",_objectSpread({method:"DELETE"},r||{})));case 1:case"end":return e.stop()}},a)})),E.apply(this,arguments)}function me(a,r,o){return C.apply(this,arguments)}function C(){return C=_asyncToGenerator(_regeneratorRuntime.mark(function a(r,o,e){return _regeneratorRuntime.wrap(function(i){for(;;)switch(i.prev=i.next){case 0:return i.abrupt("return",request("/api/account/".concat(o,"/store/relation"),_objectSpread({method:"GET",params:_objectSpread({},r)},e||{})));case 1:case"end":return i.stop()}},a)})),C.apply(this,arguments)}function he(a){return I.apply(this,arguments)}function I(){return I=_asyncToGenerator(_regeneratorRuntime.mark(function a(r){return _regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",request("/api/account/store/relation",_objectSpread({method:"POST"},r||{})));case 1:case"end":return e.stop()}},a)})),I.apply(this,arguments)}function pe(a){return B.apply(this,arguments)}function B(){return B=_asyncToGenerator(_regeneratorRuntime.mark(function a(r){return _regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",request("/api/account/store/relation",_objectSpread({method:"DELETE"},r||{})));case 1:case"end":return e.stop()}},a)})),B.apply(this,arguments)}var fe=n(71194),J=n(3785),D=n(3843),Q=n(26743),b=n(5966),t=n(85893),X=function(r){return(0,t.jsxs)(D.Z,{stepsProps:{size:"small"},stepsFormRender:function(e,c){return(0,t.jsx)(J.Z,{width:640,bodyStyle:{padding:"32px 40px 48px"},destroyOnClose:!0,title:r.values.id==null?"\u6DFB\u52A0\u8D26\u53F7":"\u4FEE\u6539\u8D26\u53F7",visible:r.visible,footer:c,onCancel:function(){r.onCancel()},children:e})},onFinish:r.onSubmit,children:[(0,t.jsxs)(D.Z.StepForm,{initialValues:{username:r.values.username,phone:r.values.phone},title:"\u57FA\u672C\u4FE1\u606F",children:[(0,t.jsx)(Q.Z,{name:"icon",label:"\u56FE\u7247",max:1,fieldProps:{name:"file",listType:"picture-card"},action:"/upload.do",rules:[{required:!0,message:"\u8BF7\u4E0A\u4F20\u56FE\u7247\uFF01"}]}),(0,t.jsx)(b.Z,{name:"username",label:"\u8D26\u53F7",rules:[{required:!0,message:"\u8BF7\u8F93\u5165\u8D26\u53F7\uFF01"}]}),(0,t.jsx)(b.Z,{name:"phone",width:"md",label:"\u624B\u673A\u53F7",placeholder:"\u8BF7\u8F93\u5165\u624B\u673A\u53F7",rules:[{required:!0,message:"\u624B\u673A\u53F7\u4E0D\u80FD\u4E3A\u7A7A"},{pattern:/^1\d{10}$/,message:"\u4E0D\u5408\u6CD5\u7684\u624B\u673A\u53F7\u683C\u5F0F!"}]})]}),(0,t.jsx)(D.Z.StepForm,{initialValues:{type:"0",relation:{storeId:0,storeName:"\u95E8\u5E97\u540D\u79F0"}},title:"\u8D26\u53F7\u7C7B\u578B"})]})},q=X,_=function(){var r=(0,x.useState)(!1),o=(0,F.Z)(r,2),e=o[0],c=o[1],i=(0,x.useRef)(),m=(0,x.useState)([]),G=(0,F.Z)(m,2),p=G[0],O=G[1],te=(0,x.useState)(),k=(0,F.Z)(te,2),ne=k[0],j=k[1],re=[{title:"\u8D26\u53F7ID",key:"id",dataIndex:"id",sorter:!0},{title:"\u8D26\u53F7",key:"username",dataIndex:"username"},{title:"\u624B\u673A\u53F7",key:"phone",dataIndex:"phone"},{title:"\u8D26\u53F7\u7C7B\u578B",key:"type",dataIndex:"type",valueEnum:{0:{text:"\u4E0D\u9650",status:""},1:{text:"\u8D85\u7EA7\u7BA1\u7406\u5458",status:""},2:{text:"\u7CFB\u7EDF\u7BA1\u7406\u5458",status:""},3:{text:"\u95E8\u5E97\u7BA1\u7406\u5458",status:""}},render:function(s,u){return u.type===1?(0,t.jsx)(h.Z,{color:"success",children:"\u8D85\u7EA7\u7BA1\u7406\u5458"},u.key):u.type===2?(0,t.jsx)(h.Z,{color:"#2db7f5",children:"\u7CFB\u7EDF\u7BA1\u7406\u5458"},u.key):(0,t.jsx)(h.Z,{color:"#108ee9",children:"\u95E8\u5E97\u7BA1\u7406\u5458"},u.key)}},{title:"\u8D26\u53F7\u72B6\u6001",key:"enabled",dataIndex:"enabled",valueType:"select",initialValue:"0",valueEnum:{0:{text:"\u4E0D\u9650",status:""},true:{text:"\u5DF2\u542F\u7528",checked:!0,status:""},false:{text:"\u5DF2\u7981\u7528",checked:!1,status:""}},render:function(s,u){return u.enabled?(0,t.jsx)(h.Z,{color:"success",children:"\u5DF2\u542F\u7528"}):(0,t.jsx)(h.Z,{color:"error",children:"\u5DF2\u7981\u7528"})}},{title:"\u521B\u5EFA\u65F6\u95F4",key:"createdTime",dataIndex:"createdTime",valueType:"dateTime",sorter:!0,hideInSearch:!0},{title:"\u521B\u5EFA\u65F6\u95F4",dataIndex:"createdTime",valueType:"dateRange",hideInTable:!0,search:{transform:function(s){return{startTime:s[0],endTime:s[1]}}}},{title:"\u64CD\u4F5C",key:"option",dataIndex:"option",hideInSearch:!0,render:function(s,u){return(0,t.jsxs)(V.Z,{size:"middle",children:[(0,t.jsx)("a",{onClick:function(){c(!0),j(u)},children:"\u7F16\u8F91"},"edit"),(0,t.jsx)("a",{children:u.enabled?"\u7981\u7528":"\u542F\u7528"},"enabled"),(0,t.jsx)(W.Z,{trigger:["click"],overlay:(0,t.jsxs)(y.Z,{children:[(0,t.jsx)(y.Z.Item,{children:"\u4FEE\u6539\u5BC6\u7801"},0),(0,t.jsx)(y.Z.Item,{children:"\u6240\u5C5E\u95E8\u5E97"},1),(0,t.jsx)(y.Z.Item,{children:"\u5220\u9664\u8D26\u53F7"},2)]}),children:(0,t.jsxs)("a",{children:["\u66F4\u591A",(0,t.jsx)(Y.Z,{})]})},"more")]})}}];return(0,t.jsxs)(L.ZP,{children:[(0,t.jsx)(U.ZP,{headerTitle:"headerTitle",actionRef:i,rowKey:"key",search:{labelWidth:120},toolBarRender:function(){return[(0,t.jsxs)(w.Z,{type:"primary",onClick:function(){e||(c(!0),j(void 0))},children:[(0,t.jsx)(K.Z,{})," \u6DFB\u52A0"]},"primary")]},request:N,columns:re,rowSelection:{onChange:function(s,u){O(u)}}}),(p==null?void 0:p.length)>0&&(0,t.jsx)(M.Z,{extra:(0,t.jsx)("div",{children:(0,t.jsxs)("span",{children:["\u5DF2\u9009\u4E2D",p.reduce(function(l,s){return l+s.id},0)," \u4E2A\u8D26\u53F7"]})}),children:(0,t.jsx)(w.Z,{onClick:(0,v.Z)(d().mark(function l(){var s,u;return d().wrap(function(Z){for(;;)switch(Z.prev=Z.next){case 0:console.log("selectedRowsState--->",p),O([]),(s=i.current)===null||s===void 0||(u=s.reloadAndRest)===null||u===void 0||u.call(s);case 3:case"end":return Z.stop()}},l)})),children:"\u6279\u91CF\u5220\u9664"})}),(0,t.jsx)(q,{onSubmit:function(){var l=(0,v.Z)(d().mark(function s(u){var S;return d().wrap(function(f){for(;;)switch(f.prev=f.next){case 0:return console.log("edit item values--->",u),f.next=3,H(u);case 3:S=f.sent,S&&(c(!1),j(void 0),i.current&&i.current.reload());case 5:case"end":return f.stop()}},s)}));return function(s){return l.apply(this,arguments)}}(),onCancel:function(){c(!1),j(void 0)},visible:e,values:ne||{}})]})},ee=_}}]);
