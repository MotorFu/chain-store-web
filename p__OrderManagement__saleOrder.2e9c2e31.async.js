(self.webpackChunkant_design_pro=self.webpackChunkant_design_pro||[]).push([[257],{64973:function(K,j,e){"use strict";e.r(j),e.d(j,{default:function(){return Y}});var H=e(57338),D=e(25084),J=e(57663),$=e(71577),f=e(3182),M=e(49111),N=e(19650),T=e(2824),P=e(94043),u=e.n(P),p=e(67294),F=e(81907),G=e(85224),L=e(65319),m=e(11849),I=e(21010);function k(s,l,i,r){return x.apply(this,arguments)}function x(){return x=(0,f.Z)(u().mark(function s(l,i,r,v){return u().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.abrupt("return",(0,I.WY)("/api/saleOrder",(0,m.Z)({method:"GET",params:(0,m.Z)((0,m.Z)({},l),{},{sorter:i,filter:r})},v||{})));case 1:case"end":return a.stop()}},s)})),x.apply(this,arguments)}function A(s){return g.apply(this,arguments)}function g(){return g=(0,f.Z)(u().mark(function s(l){return u().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.abrupt("return",(0,I.WY)("/api/saleOrder",(0,m.Z)({method:"DELETE"},l||{})));case 1:case"end":return r.stop()}},s)})),g.apply(this,arguments)}function Q(s,l,i,r){return Z.apply(this,arguments)}function Z(){return Z=_asyncToGenerator(_regeneratorRuntime.mark(function s(l,i,r,v){return _regeneratorRuntime.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.abrupt("return",request("/api/saleOrder/transactionLog",_objectSpread({method:"GET",params:_objectSpread(_objectSpread({},l),{},{sorter:i,filter:r})},v||{})));case 1:case"end":return a.stop()}},s)})),Z.apply(this,arguments)}var W=e(96459),n=e(85893),V=function(){var l=(0,p.useState)(!1),i=(0,T.Z)(l,2),r=i[0],v=i[1],y=(0,p.useRef)(),a=(0,p.useState)([]),C=(0,T.Z)(a,2),h=C[0],O=C[1],z=(0,p.useState)(),w=(0,T.Z)(z,2),c=w[0],R=w[1],E=[{title:"\u8BA2\u5355ID",key:"id",dataIndex:"id",sorter:!0},{title:"\u8BA2\u5355\u53F7",key:"orderNo",dataIndex:"orderNo"},{title:"\u95E8\u5E97",key:"storeName",dataIndex:"storeName"},{title:"\u603B\u552E\u4EF7",key:"totalPrice",dataIndex:"totalPrice"},{title:"\u6536\u94F6\u540D",key:"accountName",dataIndex:"accountName"},{title:"\u652F\u4ED8\u7C7B\u578B",key:"payType",dataIndex:"payType"},{title:"\u652F\u4ED8\u65F6\u95F4",key:"payTime",dataIndex:"payTime",valueType:"dateTime"},{title:"\u521B\u5EFA\u65F6\u95F4",key:"createdTime",dataIndex:"createdTime",valueType:"dateTime",sorter:!0,hideInSearch:!0},{title:"\u64CD\u4F5C",key:"option",dataIndex:"option",hideInSearch:!0,hideInDescriptions:!0,render:function(o,t){return(0,n.jsx)(N.Z,{size:"middle",children:(0,n.jsx)("a",{onClick:function(){R(t),v(!0)},children:"\u67E5\u770B"},"edit")})}}];return(0,n.jsxs)(F.ZP,{children:[(0,n.jsx)(L.ZP,{headerTitle:"headerTitle",actionRef:y,rowKey:"key",search:{labelWidth:120},request:k,columns:E,rowSelection:{onChange:function(o,t){O(t)}}}),(h==null?void 0:h.length)>0&&(0,n.jsx)(G.Z,{extra:(0,n.jsx)("div",{children:(0,n.jsxs)("span",{children:["\u5DF2\u9009\u4E2D",h.reduce(function(d,o){return d+o.id},0)," \u4E2A\u8D26\u53F7"]})}),children:(0,n.jsx)($.Z,{onClick:(0,f.Z)(u().mark(function d(){var o,t;return u().wrap(function(S){for(;;)switch(S.prev=S.next){case 0:return console.log("selectedRowsState--->",h),S.next=3,A(h);case 3:O([]),(o=y.current)===null||o===void 0||(t=o.reloadAndRest)===null||t===void 0||t.call(o);case 5:case"end":return S.stop()}},d)})),children:"\u6279\u91CF\u5220\u9664"})}),(0,n.jsx)(D.Z,{width:600,visible:r,onClose:function(){R(void 0),v(!1)},closable:!1,children:(c==null?void 0:c.orderNo)&&(0,n.jsx)(W.Z,{column:2,title:"\u8BA2\u5355\u8BE6\u60C5",request:(0,f.Z)(u().mark(function d(){return u().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",{data:c||{}});case 1:case"end":return t.stop()}},d)})),params:{id:c==null?void 0:c.id},columns:E})})]})},Y=V}}]);
