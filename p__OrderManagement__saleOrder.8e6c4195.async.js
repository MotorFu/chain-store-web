(self.webpackChunkchain_store=self.webpackChunkchain_store||[]).push([[257],{70725:function(R,D,e){"use strict";e.d(D,{oM:function(){return c},Rk:function(){return m}});var c={pageSize:10},E;(function(_){_[_.SUPER_ADMIN=1]="SUPER_ADMIN",_[_.NORMAL_ADMIN=2]="NORMAL_ADMIN",_[_.STORE_ADMIN=3]="STORE_ADMIN"})(E||(E={}));var M;(function(_){_[_.SUPER_ADMIN=1]="SUPER_ADMIN",_[_.NORMAL_ADMIN=2]="NORMAL_ADMIN",_[_.CASHIER=3]="CASHIER"})(M||(M={}));var o;(function(_){_[_.CASH=1]="CASH",_[_.ALIPAY=2]="ALIPAY",_[_.WECHAT=3]="WECHAT"})(o||(o={}));var m=[{value:0,label:"\u4E0D\u9650"},{value:1,label:"\u73B0\u91D1"},{value:2,label:"\u652F\u4ED8\u5B9D"},{value:3,label:"\u5FAE\u4FE1"}]},19485:function(R,D,e){"use strict";e.r(D);var c=e(57338),E=e(25084),M=e(57663),o=e(71577),m=e(3182),_=e(49111),O=e(19650),v=e(2824),f=e(94043),P=e.n(f),u=e(67294),n=e(81907),i=e(85224),d=e(33145),a=e(65920),I=e(96459),A=e(70725),t=e(85893),K=function(){var j=(0,u.useState)(!1),T=(0,v.Z)(j,2),B=T[0],C=T[1],S=(0,u.useRef)(),N=(0,u.useState)([]),L=(0,v.Z)(N,2),p=L[0],y=L[1],x=(0,u.useState)(),W=(0,v.Z)(x,2),h=W[0],g=W[1],U=[{title:"\u8BA2\u5355ID",key:"id",dataIndex:"id",sorter:!0},{title:"\u8BA2\u5355\u53F7",key:"orderNo",dataIndex:"orderNo"},{title:"\u95E8\u5E97",key:"storeName",dataIndex:"storeName"},{title:"\u603B\u552E\u4EF7",key:"totalPrice",dataIndex:"totalPrice"},{title:"\u6536\u94F6\u540D",key:"accountName",dataIndex:"accountName"},{title:"\u652F\u4ED8\u7C7B\u578B",key:"payType",dataIndex:"payType",render:function(s,r){return r.payType?A.Rk[r.payType].label:"\u672A\u77E5"}},{title:"\u652F\u4ED8\u65F6\u95F4",key:"payTime",dataIndex:"payTime",valueType:"dateTime"},{title:"\u521B\u5EFA\u65F6\u95F4",key:"createdAt",dataIndex:"createdAt",valueType:"dateTime",sorter:!0,hideInSearch:!0},{title:"\u64CD\u4F5C",key:"option",dataIndex:"option",hideInSearch:!0,hideInDescriptions:!0,render:function(s,r){return(0,t.jsx)(O.Z,{size:"middle",children:(0,t.jsx)("a",{onClick:function(){g(r),C(!0)},children:"\u67E5\u770B"},"edit")})}}];return(0,t.jsxs)(n.ZP,{children:[(0,t.jsx)(d.ZP,{pagination:A.oM,headerTitle:"headerTitle",actionRef:S,rowKey:"key",search:{labelWidth:120},request:a.jK,columns:U,rowSelection:{onChange:function(s,r){y(r)}}}),(p==null?void 0:p.length)>0&&(0,t.jsx)(i.Z,{extra:(0,t.jsx)("div",{children:(0,t.jsxs)("span",{children:["\u5DF2\u9009\u4E2D",p.reduce(function(l,s){return l+s.id},0)," \u4E2A\u8D26\u53F7"]})}),children:(0,t.jsx)(o.Z,{onClick:(0,m.Z)(P().mark(function l(){var s,r;return P().wrap(function(b){for(;;)switch(b.prev=b.next){case 0:return console.log("selectedRowsState--->",p),b.next=3,(0,a.cb)(p);case 3:y([]),(s=S.current)===null||s===void 0||(r=s.reloadAndRest)===null||r===void 0||r.call(s);case 5:case"end":return b.stop()}},l)})),children:"\u6279\u91CF\u5220\u9664"})}),(0,t.jsx)(E.Z,{width:600,visible:B,onClose:function(){g(void 0),C(!1)},closable:!1,children:(h==null?void 0:h.orderNo)&&(0,t.jsx)(I.Z,{column:2,title:"\u8BA2\u5355\u8BE6\u60C5",request:(0,m.Z)(P().mark(function l(){return P().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.abrupt("return",{data:h||{}});case 1:case"end":return r.stop()}},l)})),params:{id:h==null?void 0:h.id},columns:U})})]})};D.default=K},65920:function(R,D,e){"use strict";e.d(D,{jK:function(){return _},cb:function(){return v}});var c=e(11849),E=e(3182),M=e(94043),o=e.n(M),m=e(21010);function _(n,i,d,a){return O.apply(this,arguments)}function O(){return O=(0,E.Z)(o().mark(function n(i,d,a,I){return o().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",(0,m.WY)("/api/saleOrder",(0,c.Z)({method:"GET",params:(0,c.Z)((0,c.Z)({},i),{},{sorter:d,filter:a})},I||{})));case 1:case"end":return t.stop()}},n)})),O.apply(this,arguments)}function v(n){return f.apply(this,arguments)}function f(){return f=(0,E.Z)(o().mark(function n(i){return o().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.abrupt("return",(0,m.WY)("/api/saleOrder",(0,c.Z)({method:"DELETE"},i||{})));case 1:case"end":return a.stop()}},n)})),f.apply(this,arguments)}function P(n,i,d,a){return u.apply(this,arguments)}function u(){return u=_asyncToGenerator(_regeneratorRuntime.mark(function n(i,d,a,I){return _regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",request("/api/saleOrder/transactionLog",_objectSpread({method:"GET",params:_objectSpread(_objectSpread({},i),{},{sorter:d,filter:a})},I||{})));case 1:case"end":return t.stop()}},n)})),u.apply(this,arguments)}}}]);
