(self.webpackChunkant_design_pro=self.webpackChunkant_design_pro||[]).push([[660],{30587:function(te,$,e){"use strict";e.r($),e.d($,{default:function(){return q}});var v=e(3182),re=e(57663),g=e(71577),ae=e(49111),W=e(19650),ue=e(59250),b=e(13013),se=e(30887),Z=e(99210),le=e(71153),A=e(60331),S=e(2824),w=e(94043),o=e.n(w),p=e(67294),B=e(81907),Y=e(85224),M=e(70678),O=e(8812),z=e(49101),f=e(11849),j=e(21010);function G(s,t,l,r){return E.apply(this,arguments)}function E(){return E=(0,v.Z)(o().mark(function s(t,l,r,a){return o().wrap(function(h){for(;;)switch(h.prev=h.next){case 0:return h.abrupt("return",(0,j.WY)("/api/category",(0,f.Z)({method:"GET",params:(0,f.Z)((0,f.Z)({},t),{},{sorter:l,filter:r})},a||{})));case 1:case"end":return h.stop()}},s)})),E.apply(this,arguments)}function L(s){return T.apply(this,arguments)}function T(){return T=(0,v.Z)(o().mark(function s(t){return o().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return console.log("options",t),r.abrupt("return",(0,j.WY)("/api/category",(0,f.Z)({method:"PUT"},t||{})));case 2:case"end":return r.stop()}},s)})),T.apply(this,arguments)}function V(s,t){return I.apply(this,arguments)}function I(){return I=(0,v.Z)(o().mark(function s(t,l){return o().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return console.log("options",l),a.abrupt("return",(0,j.WY)("/api/category",(0,f.Z)({method:"POST",headers:{"Content-Type":"application/json"},data:t},l||{})));case 2:case"end":return a.stop()}},s)})),I.apply(this,arguments)}function K(s){return R.apply(this,arguments)}function R(){return R=(0,v.Z)(o().mark(function s(t){return o().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.abrupt("return",(0,j.WY)("/api/category",(0,f.Z)({method:"DELETE"},t||{})));case 1:case"end":return r.stop()}},s)})),R.apply(this,arguments)}var U=e(37476),H=e(5966),n=e(85893),J={labelCol:{span:4},wrapperCol:{span:16}},N=function(t){console.log("props.values-->",t.values);var l=(0,p.useRef)();return(0,n.jsx)(U.Z,(0,f.Z)((0,f.Z)({layout:"horizontal"},J),{},{title:t.values.id==null?"\u6DFB\u52A0\u95E8\u5E97":"\u4FEE\u6539\u95E8\u5E97",visible:t.visible,formRef:l,modalProps:{afterClose:function(){var a;(a=l.current)===null||a===void 0||a.resetFields()},onCancel:function(){t.onCancel()}},submitter:{render:function(a){var m=a.reset,h=a.submit;return[(0,n.jsx)(g.Z,{onClick:function(){return t.onCancel()},children:"\u53D6\u6D88"},"cancel"),(0,n.jsx)(g.Z,{onClick:m,children:"\u91CD\u7F6E"},"reset"),(0,n.jsx)(g.Z,{onClick:h,type:"primary",children:"\u63D0\u4EA4"},"submit")]}},onFinish:t.onSubmit,children:(0,n.jsx)(H.Z,{name:"name",label:"\u540D\u79F0",initialValue:t.values.name,rules:[{required:!0,message:"\u8BF7\u8F93\u5165\u8D26\u53F7\uFF01"}]})}))},Q=N,X=function(){var t=(0,p.useState)(!1),l=(0,S.Z)(t,2),r=l[0],a=l[1],m=(0,p.useRef)(),h=(0,p.useState)([]),D=(0,S.Z)(h,2),y=D[0],k=D[1],_=(0,p.useState)(),P=(0,S.Z)(_,2),ee=P[0],F=P[1],ne=[{title:"\u95E8\u5E97ID",key:"id",dataIndex:"id",sorter:!0},{title:"\u56FE\u7247",key:"image",dataIndex:"image",valueType:"image",hideInSearch:!0},{title:"\u5E97\u540D",key:"name",dataIndex:"name"},{title:"\u8054\u7CFB\u7535\u8BDD",key:"phone",dataIndex:"phone"},{title:"\u5730\u5740",key:"address",dataIndex:"address"},{title:"\u72B6\u6001",key:"enabled",dataIndex:"enabled",valueType:"select",initialValue:"0",valueEnum:{0:{text:"\u4E0D\u9650",status:""},true:{text:"\u5DF2\u542F\u7528",checked:!0,status:""},false:{text:"\u5DF2\u7981\u7528",checked:!1,status:""}},render:function(i,u){return u.enabled?(0,n.jsx)(A.Z,{color:"success",children:"\u5DF2\u542F\u7528"}):(0,n.jsx)(A.Z,{color:"error",children:"\u5DF2\u7981\u7528"})}},{title:"\u521B\u5EFA\u65F6\u95F4",key:"createdTime",dataIndex:"createdTime",valueType:"dateTime",sorter:!0,hideInSearch:!0},{title:"\u64CD\u4F5C",key:"option",dataIndex:"option",hideInSearch:!0,render:function(i,u){return(0,n.jsxs)(W.Z,{size:"middle",children:[(0,n.jsx)("a",{onClick:function(){F(u),a(!0)},children:"\u7F16\u8F91"},"edit"),(0,n.jsx)("a",{children:u.enabled?"\u7981\u7528":"\u542F\u7528"},"enabled"),(0,n.jsx)(b.Z,{trigger:["click"],overlay:(0,n.jsxs)(Z.Z,{children:[(0,n.jsx)(Z.Z.Item,{children:"\u4FEE\u6539\u5BC6\u7801"},0),(0,n.jsx)(Z.Z.Item,{children:"\u6240\u5C5E\u95E8\u5E97"},1),(0,n.jsx)(Z.Z.Item,{children:"\u5220\u9664\u8D26\u53F7"},2)]}),children:(0,n.jsxs)("a",{children:["\u66F4\u591A",(0,n.jsx)(O.Z,{})]})},"more")]})}}];return(0,n.jsxs)(B.ZP,{children:[(0,n.jsx)(M.ZP,{headerTitle:"headerTitle",actionRef:m,rowKey:"key",search:{labelWidth:120},toolBarRender:function(){return[(0,n.jsxs)(g.Z,{type:"primary",onClick:function(){r||(F(void 0),a(!0))},children:[(0,n.jsx)(z.Z,{})," \u6DFB\u52A0"]},"primary")]},request:G,columns:ne,rowSelection:{onChange:function(i,u){k(u)}}}),(y==null?void 0:y.length)>0&&(0,n.jsx)(Y.Z,{extra:(0,n.jsx)("div",{children:(0,n.jsxs)("span",{children:["\u5DF2\u9009\u4E2D",y.reduce(function(d,i){return d+i.id},0)," \u4E2A\u8D26\u53F7"]})}),children:(0,n.jsx)(g.Z,{onClick:(0,v.Z)(o().mark(function d(){var i,u;return o().wrap(function(x){for(;;)switch(x.prev=x.next){case 0:return console.log("selectedRowsState--->",y),x.next=3,K(y);case 3:k([]),(i=m.current)===null||i===void 0||(u=i.reloadAndRest)===null||u===void 0||u.call(i);case 5:case"end":return x.stop()}},d)})),children:"\u6279\u91CF\u5220\u9664"})}),(0,n.jsx)(Q,{onSubmit:function(){var d=(0,v.Z)(o().mark(function i(u){var C;return o().wrap(function(c){for(;;)switch(c.prev=c.next){case 0:if(u.id==null){c.next=6;break}return c.next=3,L(u);case 3:C=c.sent,c.next=9;break;case 6:return c.next=8,V(u);case 8:C=c.sent;case 9:C&&(F(void 0),a(!1),m.current&&m.current.reload());case 10:case"end":return c.stop()}},i)}));return function(i){return d.apply(this,arguments)}}(),onCancel:function(){F(void 0),a(!1)},visible:r,values:ee||{}})]})},q=X}}]);
