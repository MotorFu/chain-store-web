(self.webpackChunkchain_store=self.webpackChunkchain_store||[]).push([[660],{5966:function(K,E,r){"use strict";var R=r(67294),A=r(9706),h=r(61834),M=["fieldProps","proFieldProps"];function j(){return j=Object.assign||function(n){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var e in a)Object.prototype.hasOwnProperty.call(a,e)&&(n[e]=a[e])}return n},j.apply(this,arguments)}function l(n,t){var a=Object.keys(n);if(Object.getOwnPropertySymbols){var e=Object.getOwnPropertySymbols(n);t&&(e=e.filter(function(d){return Object.getOwnPropertyDescriptor(n,d).enumerable})),a.push.apply(a,e)}return a}function N(n){for(var t=1;t<arguments.length;t++){var a=arguments[t]!=null?arguments[t]:{};t%2?l(Object(a),!0).forEach(function(e){z(n,e,a[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(a)):l(Object(a)).forEach(function(e){Object.defineProperty(n,e,Object.getOwnPropertyDescriptor(a,e))})}return n}function z(n,t,a){return t in n?Object.defineProperty(n,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):n[t]=a,n}function W(n,t){if(n==null)return{};var a=T(n,t),e,d;if(Object.getOwnPropertySymbols){var g=Object.getOwnPropertySymbols(n);for(d=0;d<g.length;d++)e=g[d],!(t.indexOf(e)>=0)&&(!Object.prototype.propertyIsEnumerable.call(n,e)||(a[e]=n[e]))}return a}function T(n,t){if(n==null)return{};var a={},e=Object.keys(n),d,g;for(g=0;g<e.length;g++)d=e[g],!(t.indexOf(d)>=0)&&(a[d]=n[d]);return a}var $="text",o=(0,h.Z)(function(n){var t=n.fieldProps,a=n.proFieldProps,e=W(n,M);return R.createElement(A.ZP,j({mode:"edit",valueType:$,fieldProps:N(N({},t),{},{onChange:function(){for(var g,F,k=arguments.length,D=new Array(k),I=0;I<k;I++)D[I]=arguments[I];t==null||(g=t.onChange)===null||g===void 0||g.call.apply(g,[t].concat(D)),e==null||(F=e.onChange)===null||F===void 0||F.call.apply(F,[e].concat(D))}})},a))},{valueType:$}),S=(0,h.Z)(function(n){var t=n.fieldProps,a=n.proFieldProps;return R.createElement(A.ZP,j({mode:"edit",valueType:"password",fieldProps:t},a))},{valueType:$}),L=o;L.Password=S,E.Z=L},70725:function(K,E,r){"use strict";r.d(E,{oM:function(){return R},Rk:function(){return j}});var R={pageSize:10},A;(function(l){l[l.SUPER_ADMIN=1]="SUPER_ADMIN",l[l.NORMAL_ADMIN=2]="NORMAL_ADMIN",l[l.STORE_ADMIN=3]="STORE_ADMIN"})(A||(A={}));var h;(function(l){l[l.SUPER_ADMIN=1]="SUPER_ADMIN",l[l.NORMAL_ADMIN=2]="NORMAL_ADMIN",l[l.CASHIER=3]="CASHIER"})(h||(h={}));var M;(function(l){l[l.CASH=1]="CASH",l[l.ALIPAY=2]="ALIPAY",l[l.WECHAT=3]="WECHAT"})(M||(M={}));var j=[{value:0,label:"\u4E0D\u9650"},{value:1,label:"\u73B0\u91D1"},{value:2,label:"\u652F\u4ED8\u5B9D"},{value:3,label:"\u5FAE\u4FE1"}]},99667:function(K,E,r){"use strict";r.r(E),r.d(E,{default:function(){return ue}});var R=r(57663),A=r(71577),h=r(3182),M=r(71194),j=r(57016),l=r(49111),N=r(19650),z=r(71153),W=r(60331),T=r(2824),$=r(94043),o=r.n($),S=r(67294),L=r(81907),n=r(85224),t=r(33145),a=r(49101),e=r(11849),d=r(21010);function g(v,i,m,u){return F.apply(this,arguments)}function F(){return F=(0,h.Z)(o().mark(function v(i,m,u,Z){return o().wrap(function(w){for(;;)switch(w.prev=w.next){case 0:return w.abrupt("return",(0,d.WY)("/api/category",(0,e.Z)({method:"GET",params:(0,e.Z)((0,e.Z)({},i),{},{sorter:m,filter:u})},Z||{})));case 1:case"end":return w.stop()}},v)})),F.apply(this,arguments)}function k(v){return D.apply(this,arguments)}function D(){return D=(0,h.Z)(o().mark(function v(i){return o().wrap(function(u){for(;;)switch(u.prev=u.next){case 0:return console.log("options",i),u.abrupt("return",(0,d.WY)("/api/category",(0,e.Z)({method:"PUT"},i||{})));case 2:case"end":return u.stop()}},v)})),D.apply(this,arguments)}function I(v){return U.apply(this,arguments)}function U(){return U=(0,h.Z)(o().mark(function v(i){return o().wrap(function(u){for(;;)switch(u.prev=u.next){case 0:return u.abrupt("return",(0,d.WY)("/api/category/enabled",(0,e.Z)({method:"PUT"},i||{})));case 1:case"end":return u.stop()}},v)})),U.apply(this,arguments)}function q(v){return Y.apply(this,arguments)}function Y(){return Y=(0,h.Z)(o().mark(function v(i){return o().wrap(function(u){for(;;)switch(u.prev=u.next){case 0:return console.log("options",i),u.abrupt("return",(0,d.WY)("/api/category",(0,e.Z)({method:"POST",headers:{"Content-Type":"application/json"}},i||{})));case 2:case"end":return u.stop()}},v)})),Y.apply(this,arguments)}function V(v){return H.apply(this,arguments)}function H(){return H=(0,h.Z)(o().mark(function v(i){return o().wrap(function(u){for(;;)switch(u.prev=u.next){case 0:return u.abrupt("return",(0,d.WY)("/api/category",(0,e.Z)({method:"DELETE"},i||{})));case 1:case"end":return u.stop()}},v)})),H.apply(this,arguments)}var _=r(37476),G=r(5966),s=r(85893),ee={labelCol:{span:4},wrapperCol:{span:16}},ne=function(i){console.log("props.values-->",i.values);var m=(0,S.useRef)();return(0,s.jsxs)(_.Z,(0,e.Z)((0,e.Z)({layout:"horizontal"},ee),{},{title:i.values.id==null?"\u6DFB\u52A0\u95E8\u5E97":"\u4FEE\u6539\u95E8\u5E97",visible:i.visible,formRef:m,modalProps:{destroyOnClose:!0,afterClose:function(){var Z;(Z=m.current)===null||Z===void 0||Z.resetFields()},onCancel:function(){i.onCancel()}},initialValues:{id:i.values.id,name:i.values.name},onFinish:i.onSubmit,children:[(0,s.jsx)(G.Z,{name:"id",label:"ID",hidden:!0}),(0,s.jsx)(G.Z,{name:"name",label:"\u540D\u79F0",initialValue:i.values.name,rules:[{required:!0,message:"\u8BF7\u8F93\u5165\u8D26\u53F7\uFF01"}]})]}))},re=ne,te=r(70725),ae=function(){var i=(0,S.useState)(!1),m=(0,T.Z)(i,2),u=m[0],Z=m[1],b=(0,S.useRef)(),w=(0,S.useState)([]),J=(0,T.Z)(w,2),x=J[0],Q=J[1],le=(0,S.useState)(),X=(0,T.Z)(le,2),ie=X[0],B=X[1],oe=[{title:"\u95E8\u5E97ID",key:"id",dataIndex:"id",sorter:!0},{title:"\u540D\u79F0",key:"name",dataIndex:"name"},{title:"\u72B6\u6001",key:"enabled",dataIndex:"enabled",valueType:"select",initialValue:"0",valueEnum:{0:{text:"\u4E0D\u9650",status:""},true:{text:"\u5DF2\u542F\u7528",checked:!0,status:""},false:{text:"\u5DF2\u7981\u7528",checked:!1,status:""}},render:function(f,c){return c.enabled?(0,s.jsx)(W.Z,{color:"success",children:"\u5DF2\u542F\u7528"}):(0,s.jsx)(W.Z,{color:"error",children:"\u5DF2\u7981\u7528"})}},{title:"\u521B\u5EFA\u65F6\u95F4",key:"createdAt",dataIndex:"createdAt",valueType:"dateTime",sorter:!0,hideInSearch:!0},{title:"\u64CD\u4F5C",key:"option",dataIndex:"option",hideInSearch:!0,render:function(f,c){return(0,s.jsxs)(N.Z,{size:"middle",children:[(0,s.jsx)("a",{onClick:function(){B(c),Z(!0)},children:"\u7F16\u8F91"},"edit"),(0,s.jsx)("a",{onClick:function(){return se(c)},children:c.enabled?"\u7981\u7528":"\u542F\u7528"},"enabled"),(0,s.jsx)("a",{onClick:function(){return ce(c)},children:"\u5220\u9664"},"detele")]})}}];function se(p){j.Z.confirm({title:"\u63D0\u793A",content:(0,s.jsxs)("div",{children:["\u786E\u5B9A\u8981",p.enabled?"\u7981\u7528":"\u5F00\u542F","\u5206\u7C7B\uFF1F"]}),onOk:function(){var f=(0,h.Z)(o().mark(function y(){var C;return o().wrap(function(O){for(;;)switch(O.prev=O.next){case 0:return O.next=2,I({data:p});case 2:C=O.sent,C&&b.current&&b.current.reload();case 4:case"end":return O.stop()}},y)}));function c(){return f.apply(this,arguments)}return c}()})}function ce(p){j.Z.confirm({title:"\u63D0\u793A",content:(0,s.jsxs)("div",{children:["\u786E\u5B9A\u8981\u5220\u9664\u3010",p.name,"\u3011\u5206\u7C7B\uFF1F"]}),onOk:function(){var f=(0,h.Z)(o().mark(function y(){var C;return o().wrap(function(O){for(;;)switch(O.prev=O.next){case 0:return O.next=2,V({data:[p]});case 2:C=O.sent,C&&b.current&&b.current.reload();case 4:case"end":return O.stop()}},y)}));function c(){return f.apply(this,arguments)}return c}()})}return(0,s.jsxs)(L.ZP,{children:[(0,s.jsx)(t.ZP,{pagination:te.oM,headerTitle:"headerTitle",actionRef:b,rowKey:"key",search:{labelWidth:120},toolBarRender:function(){return[(0,s.jsxs)(A.Z,{type:"primary",onClick:function(){u||(B(void 0),Z(!0))},children:[(0,s.jsx)(a.Z,{})," \u6DFB\u52A0"]},"primary")]},request:g,columns:oe,rowSelection:{onChange:function(f,c){Q(c)}}}),(x==null?void 0:x.length)>0&&(0,s.jsx)(n.Z,{extra:(0,s.jsx)("div",{children:(0,s.jsxs)("span",{children:["\u5DF2\u9009\u4E2D",x.reduce(function(p,f){return p+f.id},0)," \u4E2A\u8D26\u53F7"]})}),children:(0,s.jsx)(A.Z,{onClick:(0,h.Z)(o().mark(function p(){var f,c;return o().wrap(function(C){for(;;)switch(C.prev=C.next){case 0:return console.log("selectedRowsState--->",x),C.next=3,V(x);case 3:Q([]),(f=b.current)===null||f===void 0||(c=f.reloadAndRest)===null||c===void 0||c.call(f);case 5:case"end":return C.stop()}},p)})),children:"\u6279\u91CF\u5220\u9664"})}),(0,s.jsx)(re,{onSubmit:function(){var p=(0,h.Z)(o().mark(function f(c){var y;return o().wrap(function(P){for(;;)switch(P.prev=P.next){case 0:if(c.id==null){P.next=6;break}return P.next=3,k(c);case 3:y=P.sent,P.next=9;break;case 6:return P.next=8,q(c);case 8:y=P.sent;case 9:y&&(B(void 0),Z(!1),b.current&&b.current.reload());case 10:case"end":return P.stop()}},f)}));return function(f){return p.apply(this,arguments)}}(),onCancel:function(){B(void 0),Z(!1)},visible:u,values:ie||{}})]})},ue=ae}}]);
