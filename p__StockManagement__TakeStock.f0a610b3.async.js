(self.webpackChunkchain_store=self.webpackChunkchain_store||[]).push([[535],{70725:function(L,I,e){"use strict";e.d(I,{oM:function(){return M},Rk:function(){return S}});var M={pageSize:10},k;(function(t){t[t.SUPER_ADMIN=1]="SUPER_ADMIN",t[t.NORMAL_ADMIN=2]="NORMAL_ADMIN",t[t.STORE_ADMIN=3]="STORE_ADMIN"})(k||(k={}));var T;(function(t){t[t.SUPER_ADMIN=1]="SUPER_ADMIN",t[t.NORMAL_ADMIN=2]="NORMAL_ADMIN",t[t.CASHIER=3]="CASHIER"})(T||(T={}));var A;(function(t){t[t.CASH=1]="CASH",t[t.ALIPAY=2]="ALIPAY",t[t.WECHAT=3]="WECHAT"})(A||(A={}));var S=[{value:0,label:"\u4E0D\u9650"},{value:1,label:"\u73B0\u91D1"},{value:2,label:"\u652F\u4ED8\u5B9D"},{value:3,label:"\u5FAE\u4FE1"}]},87157:function(L,I,e){"use strict";e.r(I),e.d(I,{default:function(){return B}});var M=e(57338),k=e(25084),T=e(57663),A=e(71577),S=e(3182),t=e(49111),P=e(19650),x=e(2824),H=e(94043),d=e.n(H),g=e(67294),b=e(81907),G=e(85224),W=e(33145),C=e(11849),w=e(21010);function F(n,a,o,i){return D.apply(this,arguments)}function D(){return D=(0,S.Z)(d().mark(function n(a,o,i,r){return d().wrap(function(v){for(;;)switch(v.prev=v.next){case 0:return v.abrupt("return",(0,w.WY)("/api/store/takeStock/order",(0,C.Z)({method:"GET",params:(0,C.Z)((0,C.Z)({},a),{},{sorter:o,filter:i})},r||{})));case 1:case"end":return v.stop()}},n)})),D.apply(this,arguments)}function U(n,a){return N.apply(this,arguments)}function N(){return N=(0,S.Z)(d().mark(function n(a,o){return d().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.abrupt("return",(0,w.WY)("/api/store/takeStock/order",(0,C.Z)({method:"DELETE",data:a},o||{})));case 1:case"end":return r.stop()}},n)})),N.apply(this,arguments)}function X(n,a,o,i,r){return Z.apply(this,arguments)}function Z(){return Z=_asyncToGenerator(_regeneratorRuntime.mark(function n(a,o,i,r,m){return _regeneratorRuntime.wrap(function(f){for(;;)switch(f.prev=f.next){case 0:return f.abrupt("return",request("/api/store/takeStock/order/".concat(a),_objectSpread({method:"GET",params:_objectSpread(_objectSpread({},o),{},{sorter:i,filter:r})},m||{})));case 1:case"end":return f.stop()}},n)})),Z.apply(this,arguments)}function q(n,a){return j.apply(this,arguments)}function j(){return j=_asyncToGenerator(_regeneratorRuntime.mark(function n(a,o){return _regeneratorRuntime.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.abrupt("return",request("/api/store/takeStock/orderItem",_objectSpread({method:"DELETE",data:a},o||{})));case 1:case"end":return r.stop()}},n)})),j.apply(this,arguments)}var Y=e(96459),z=e(70725),u=e(85893),V=function(){var a=(0,g.useState)(!1),o=(0,x.Z)(a,2),i=o[0],r=o[1],m=(0,g.useRef)(),v=(0,g.useState)([]),f=(0,x.Z)(v,2),p=f[0],y=f[1],K=(0,g.useState)(),O=(0,x.Z)(K,2),h=O[0],E=O[1],$=[{title:"\u8BA2\u5355ID",key:"id",dataIndex:"id",sorter:!0},{title:"\u8BA2\u5355\u53F7",key:"orderNo",dataIndex:"orderNo"},{title:"\u76D8\u70B9\u5546\u54C1\u6570",key:"productCount",dataIndex:"productCount"},{title:"\u95E8\u5E97",key:"storeName",dataIndex:"storeName"},{title:"\u521B\u5EFA\u65F6\u95F4",key:"createdAt",dataIndex:"createdAt",valueType:"dateTime",sorter:!0,hideInSearch:!0},{title:"\u64CD\u4F5C",key:"option",dataIndex:"option",hideInSearch:!0,hideInDescriptions:!0,render:function(l,s){return(0,u.jsx)(P.Z,{size:"middle",children:(0,u.jsx)("a",{onClick:function(){E(s),r(!0)},children:"\u67E5\u770B"},"edit")})}}];return(0,u.jsxs)(b.ZP,{children:[(0,u.jsx)(W.ZP,{pagination:z.oM,headerTitle:"headerTitle",actionRef:m,rowKey:"key",search:{labelWidth:120},request:F,columns:$,rowSelection:{onChange:function(l,s){y(s)}}}),(p==null?void 0:p.length)>0&&(0,u.jsx)(G.Z,{extra:(0,u.jsx)("div",{children:(0,u.jsxs)("span",{children:["\u5DF2\u9009\u4E2D",p.reduce(function(c,l){return c+l.id},0)," \u4E2A\u8D26\u53F7"]})}),children:(0,u.jsx)(A.Z,{onClick:(0,S.Z)(d().mark(function c(){var l,s;return d().wrap(function(R){for(;;)switch(R.prev=R.next){case 0:return console.log("selectedRowsState--->",p),R.next=3,U(p.map(function(Q){return Q.id}));case 3:y([]),(l=m.current)===null||l===void 0||(s=l.reloadAndRest)===null||s===void 0||s.call(l);case 5:case"end":return R.stop()}},c)})),children:"\u6279\u91CF\u5220\u9664"})}),(0,u.jsx)(k.Z,{width:600,visible:i,onClose:function(){E(void 0),r(!1)},closable:!1,children:(h==null?void 0:h.orderNo)&&(0,u.jsx)(Y.Z,{column:2,title:"\u76D8\u70B9\u5355\u8BE6\u60C5",request:(0,S.Z)(d().mark(function c(){return d().wrap(function(s){for(;;)switch(s.prev=s.next){case 0:return s.abrupt("return",{data:h||{}});case 1:case"end":return s.stop()}},c)})),params:{id:h==null?void 0:h.id},columns:$})})]})},B=V}}]);
