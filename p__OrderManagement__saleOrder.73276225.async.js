(self.webpackChunkchain_store=self.webpackChunkchain_store||[]).push([[257],{70725:function(F,S,e){"use strict";e.d(S,{oM:function(){return D},Rk:function(){return f},P:function(){return j},O_:function(){return R},Pd:function(){return M},mt:function(){return C}});var D={pageSize:10},I;(function(a){a[a.SUPER_ADMIN=1]="SUPER_ADMIN",a[a.NORMAL_ADMIN=2]="NORMAL_ADMIN",a[a.STORE_ADMIN=3]="STORE_ADMIN"})(I||(I={}));var N;(function(a){a[a.SUPER_ADMIN=1]="SUPER_ADMIN",a[a.NORMAL_ADMIN=2]="NORMAL_ADMIN",a[a.CASHIER=3]="CASHIER"})(N||(N={}));var m;(function(a){a[a.CASH=1]="CASH",a[a.ALIPAY=2]="ALIPAY",a[a.WECHAT=3]="WECHAT"})(m||(m={}));var f=[{value:0,label:"\u4E0D\u9650"},{value:1,label:"\u73B0\u91D1",color:"#ff7b7b"},{value:2,label:"\u652F\u4ED8\u5B9D",color:"#03a6fc"},{value:3,label:"\u5FAE\u4FE1",color:"#62e367"}],j=[{value:0,label:"\u4E0D\u9650"},{value:1,label:"\u8349\u7A3F",color:"#ccc"},{value:2,label:"\u5F85\u91C7\u8D2D",color:"#03a6fc"},{value:3,label:"\u91C7\u8D2D\u5B8C\u6210",color:"#28c522"}],R=[{value:0,label:"\u4E0D\u9650"},{value:1,label:"\u666E\u901A\u5165\u5E93"},{value:2,label:"\u91C7\u8D2D\u5165\u5E93"}],M=[{value:0,label:"\u4E0D\u9650"},{value:1,label:"\u8349\u7A3F",color:"#ccc"},{value:2,label:"\u5F85\u5165\u5E93",color:"#03a6fc"},{value:3,label:"\u5165\u5E93\u5B8C\u6210",color:"#28c522"}],C=[{value:0,label:"\u4E0D\u9650"},{value:1,label:"\u8349\u7A3F",color:"#ccc"},{value:2,label:"\u5F85\u76D8\u70B9",color:"#03a6fc"},{value:3,label:"\u76D8\u70B9\u5B8C\u6210",color:"#28c522"}]},5946:function(F,S,e){"use strict";e.r(S),e.d(S,{default:function(){return J}});var D=e(57338),I=e(25084),N=e(57663),m=e(71577),f=e(3182),j=e(49111),R=e(19650),M=e(71153),C=e(60331),a=e(2824),W=e(94043),d=e.n(W),y=e(67294),G=e(81907),U=e(85224),Y=e(33145),A=e(11849),P=e(21010);function z(u,i,c,t){return T.apply(this,arguments)}function T(){return T=(0,f.Z)(d().mark(function u(i,c,t,h){return d().wrap(function(l){for(;;)switch(l.prev=l.next){case 0:return l.abrupt("return",(0,P.WY)("/api/saleOrder",(0,A.Z)({method:"GET",params:(0,A.Z)((0,A.Z)({},i),{},{sorter:c,filter:t})},h||{})));case 1:case"end":return l.stop()}},u)})),T.apply(this,arguments)}function V(u){return b.apply(this,arguments)}function b(){return b=(0,f.Z)(d().mark(function u(i){return d().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",(0,P.WY)("/api/saleOrder",(0,A.Z)({method:"DELETE"},i||{})));case 1:case"end":return t.stop()}},u)})),b.apply(this,arguments)}function X(u,i,c,t){return Z.apply(this,arguments)}function Z(){return Z=_asyncToGenerator(_regeneratorRuntime.mark(function u(i,c,t,h){return _regeneratorRuntime.wrap(function(l){for(;;)switch(l.prev=l.next){case 0:return l.abrupt("return",request("/api/saleOrder/transactionLog",_objectSpread({method:"GET",params:_objectSpread(_objectSpread({},i),{},{sorter:c,filter:t})},h||{})));case 1:case"end":return l.stop()}},u)})),Z.apply(this,arguments)}var B=e(96459),w=e(70725),n=e(85893),K=function(){var i=(0,y.useState)(!1),c=(0,a.Z)(i,2),t=c[0],h=c[1],g=(0,y.useRef)(),l=(0,y.useState)([]),L=(0,a.Z)(l,2),p=L[0],$=L[1],Q=(0,y.useState)(),k=(0,a.Z)(Q,2),v=k[0],E=k[1],H=[{title:"ID",key:"id",dataIndex:"id",sorter:!0},{title:"\u8BA2\u5355\u53F7",key:"orderNo",dataIndex:"orderNo"},{title:"\u95E8\u5E97",key:"storeName",dataIndex:"storeName"},{title:"\u603B\u552E\u4EF7(\u5143)",key:"totalPrice",dataIndex:"totalPrice",render:function(o,r){return(r.totalPrice/100).toFixed(2)}},{title:"\u6536\u94F6\u5458",key:"accountName",dataIndex:"accountName"},{title:"\u652F\u4ED8\u7C7B\u578B",key:"payType",dataIndex:"payType",render:function(o,r){var x=w.Rk[r.payType];return(0,n.jsx)(C.Z,{color:x.color,children:x.label})}},{title:"\u652F\u4ED8\u65F6\u95F4",key:"payTime",dataIndex:"payTime",valueType:"dateTime"},{title:"\u521B\u5EFA\u65F6\u95F4",key:"createdAt",dataIndex:"createdAt",valueType:"dateTime",sorter:!0,hideInSearch:!0},{title:"\u64CD\u4F5C",key:"option",dataIndex:"option",hideInSearch:!0,hideInDescriptions:!0,width:80,render:function(o,r){return(0,n.jsx)(R.Z,{size:"middle",children:(0,n.jsx)("a",{onClick:function(){E(r),h(!0)},children:"\u67E5\u770B"},"edit")})}}];return(0,n.jsxs)(G.ZP,{children:[(0,n.jsx)(Y.ZP,{pagination:w.oM,headerTitle:"",actionRef:g,rowKey:"key",search:{labelWidth:120},request:z,columns:H,rowSelection:{onChange:function(o,r){$(r)}}}),(p==null?void 0:p.length)>0&&(0,n.jsx)(U.Z,{extra:(0,n.jsx)("div",{children:(0,n.jsxs)("span",{children:["\u5DF2\u9009\u4E2D",p.reduce(function(s,o){return s+o.id},0)," \u4E2A\u8D26\u53F7"]})}),children:(0,n.jsx)(m.Z,{onClick:(0,f.Z)(d().mark(function s(){var o,r;return d().wrap(function(O){for(;;)switch(O.prev=O.next){case 0:return console.log("selectedRowsState--->",p),O.next=3,V(p);case 3:$([]),(o=g.current)===null||o===void 0||(r=o.reloadAndRest)===null||r===void 0||r.call(o);case 5:case"end":return O.stop()}},s)})),children:"\u6279\u91CF\u5220\u9664"})}),(0,n.jsx)(I.Z,{width:600,visible:t,onClose:function(){E(void 0),h(!1)},closable:!1,children:(v==null?void 0:v.orderNo)&&(0,n.jsx)(B.Z,{column:2,title:"\u8BA2\u5355\u8BE6\u60C5",request:(0,f.Z)(d().mark(function s(){return d().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.abrupt("return",{data:v||{}});case 1:case"end":return r.stop()}},s)})),params:{id:v==null?void 0:v.id},columns:H})})]})},J=K}}]);
