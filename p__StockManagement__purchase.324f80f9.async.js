(self.webpackChunkchain_store=self.webpackChunkchain_store||[]).push([[930],{70725:function(L,S,e){"use strict";e.d(S,{oM:function(){return w},Rk:function(){return p}});var w={pageSize:10},A;(function(r){r[r.SUPER_ADMIN=1]="SUPER_ADMIN",r[r.NORMAL_ADMIN=2]="NORMAL_ADMIN",r[r.STORE_ADMIN=3]="STORE_ADMIN"})(A||(A={}));var D;(function(r){r[r.SUPER_ADMIN=1]="SUPER_ADMIN",r[r.NORMAL_ADMIN=2]="NORMAL_ADMIN",r[r.CASHIER=3]="CASHIER"})(D||(D={}));var g;(function(r){r[r.CASH=1]="CASH",r[r.ALIPAY=2]="ALIPAY",r[r.WECHAT=3]="WECHAT"})(g||(g={}));var p=[{value:0,label:"\u4E0D\u9650"},{value:1,label:"\u73B0\u91D1"},{value:2,label:"\u652F\u4ED8\u5B9D"},{value:3,label:"\u5FAE\u4FE1"}]},63948:function(L,S,e){"use strict";e.r(S),e.d(S,{default:function(){return B}});var w=e(57338),A=e(25084),D=e(57663),g=e(71577),p=e(3182),r=e(49111),H=e(19650),N=e(2824),b=e(94043),d=e.n(b),R=e(67294),G=e(81907),W=e(85224),F=e(33145),x=e(11849),y=e(21010);function U(n,a,s,o){return Z.apply(this,arguments)}function Z(){return Z=(0,p.Z)(d().mark(function n(a,s,o,t){return d().wrap(function(h){for(;;)switch(h.prev=h.next){case 0:return h.abrupt("return",(0,y.WY)("/api/store/purchase/order",(0,x.Z)({method:"GET",params:(0,x.Z)((0,x.Z)({},a),{},{sorter:s,filter:o})},t||{})));case 1:case"end":return h.stop()}},n)})),Z.apply(this,arguments)}function Y(n,a){return j.apply(this,arguments)}function j(){return j=(0,p.Z)(d().mark(function n(a,s){return d().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",(0,y.WY)("/api/store/purchase/order",(0,x.Z)({method:"DELETE",data:a},s||{})));case 1:case"end":return t.stop()}},n)})),j.apply(this,arguments)}function X(n,a,s,o,t){return M.apply(this,arguments)}function M(){return M=_asyncToGenerator(_regeneratorRuntime.mark(function n(a,s,o,t,I){return _regeneratorRuntime.wrap(function(v){for(;;)switch(v.prev=v.next){case 0:return v.abrupt("return",request("/api/store/purchase/order/".concat(a),_objectSpread({method:"GET",params:_objectSpread(_objectSpread({},s),{},{sorter:o,filter:t})},I||{})));case 1:case"end":return v.stop()}},n)})),M.apply(this,arguments)}function q(n,a){return P.apply(this,arguments)}function P(){return P=_asyncToGenerator(_regeneratorRuntime.mark(function n(a,s){return _regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",request("/api/store/purchase/orderItem",_objectSpread({method:"DELETE",data:a},s||{})));case 1:case"end":return t.stop()}},n)})),P.apply(this,arguments)}var k=e(96459),z=e(70725),i=e(85893),V=function(){var a=(0,R.useState)(!1),s=(0,N.Z)(a,2),o=s[0],t=s[1],I=(0,R.useRef)(),h=(0,R.useState)([]),v=(0,N.Z)(h,2),m=v[0],O=v[1],K=(0,R.useState)(),T=(0,N.Z)(K,2),f=T[0],E=T[1],$=[{title:"\u8BA2\u5355ID",key:"id",dataIndex:"id",sorter:!0},{title:"\u8BA2\u5355\u53F7",key:"orderNo",dataIndex:"orderNo"},{title:"\u95E8\u5E97",key:"storeName",dataIndex:"storeName"},{title:"\u72B6\u6001",key:"status",dataIndex:"status"},{title:"\u521B\u5EFA\u65F6\u95F4",key:"createdAt",dataIndex:"createdAt",valueType:"dateTime",sorter:!0,hideInSearch:!0},{title:"\u64CD\u4F5C",key:"option",dataIndex:"option",hideInSearch:!0,hideInDescriptions:!0,render:function(l,u){return(0,i.jsx)(H.Z,{size:"middle",children:(0,i.jsx)("a",{onClick:function(){E(u),t(!0)},children:"\u67E5\u770B"},"edit")})}}];return(0,i.jsxs)(G.ZP,{children:[(0,i.jsx)(F.ZP,{pagination:z.oM,headerTitle:"headerTitle",actionRef:I,rowKey:"key",search:{labelWidth:120},request:U,columns:$,rowSelection:{onChange:function(l,u){O(u)}}}),(m==null?void 0:m.length)>0&&(0,i.jsx)(W.Z,{extra:(0,i.jsx)("div",{children:(0,i.jsxs)("span",{children:["\u5DF2\u9009\u4E2D",m.reduce(function(c,l){return c+l.id},0)," \u4E2A\u8D26\u53F7"]})}),children:(0,i.jsx)(g.Z,{onClick:(0,p.Z)(d().mark(function c(){var l,u;return d().wrap(function(C){for(;;)switch(C.prev=C.next){case 0:return console.log("selectedRowsState--->",m),C.next=3,Y(m.map(function(Q){return Q.id}));case 3:O([]),(l=I.current)===null||l===void 0||(u=l.reloadAndRest)===null||u===void 0||u.call(l);case 5:case"end":return C.stop()}},c)})),children:"\u6279\u91CF\u5220\u9664"})}),(0,i.jsx)(A.Z,{width:600,visible:o,onClose:function(){E(void 0),t(!1)},closable:!1,children:(f==null?void 0:f.orderNo)&&(0,i.jsx)(k.Z,{column:2,title:"\u91C7\u8D2D\u5355\u8BE6\u60C5",request:(0,p.Z)(d().mark(function c(){return d().wrap(function(u){for(;;)switch(u.prev=u.next){case 0:return u.abrupt("return",{data:f||{}});case 1:case"end":return u.stop()}},c)})),params:{id:f==null?void 0:f.id},columns:$})})]})},B=V}}]);
