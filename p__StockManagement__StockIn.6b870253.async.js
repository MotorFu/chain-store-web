(self.webpackChunkchain_store=self.webpackChunkchain_store||[]).push([[826],{70725:function(L,m,e){"use strict";e.d(m,{oM:function(){return M},Rk:function(){return I}});var M={pageSize:10},A;(function(r){r[r.SUPER_ADMIN=1]="SUPER_ADMIN",r[r.NORMAL_ADMIN=2]="NORMAL_ADMIN",r[r.STORE_ADMIN=3]="STORE_ADMIN"})(A||(A={}));var D;(function(r){r[r.SUPER_ADMIN=1]="SUPER_ADMIN",r[r.NORMAL_ADMIN=2]="NORMAL_ADMIN",r[r.CASHIER=3]="CASHIER"})(D||(D={}));var g;(function(r){r[r.CASH=1]="CASH",r[r.ALIPAY=2]="ALIPAY",r[r.WECHAT=3]="WECHAT"})(g||(g={}));var I=[{value:0,label:"\u4E0D\u9650"},{value:1,label:"\u73B0\u91D1"},{value:2,label:"\u652F\u4ED8\u5B9D"},{value:3,label:"\u5FAE\u4FE1"}]},13320:function(L,m,e){"use strict";e.r(m),e.d(m,{default:function(){return B}});var M=e(57338),A=e(25084),D=e(57663),g=e(71577),I=e(3182),r=e(49111),P=e(19650),N=e(2824),H=e(94043),d=e.n(H),x=e(67294),b=e(81907),G=e(85224),W=e(33145),R=e(11849),O=e(21010);function F(a,n,s,i){return Z.apply(this,arguments)}function Z(){return Z=(0,I.Z)(d().mark(function a(n,s,i,t){return d().wrap(function(v){for(;;)switch(v.prev=v.next){case 0:return v.abrupt("return",(0,O.WY)("/api/store/stockIn/order",(0,R.Z)({method:"GET",params:(0,R.Z)((0,R.Z)({},n),{},{sorter:s,filter:i})},t||{})));case 1:case"end":return v.stop()}},a)})),Z.apply(this,arguments)}function U(a,n){return k.apply(this,arguments)}function k(){return k=(0,I.Z)(d().mark(function a(n,s){return d().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",(0,O.WY)("/api/store/stockIn/order",(0,R.Z)({method:"DELETE",data:n},s||{})));case 1:case"end":return t.stop()}},a)})),k.apply(this,arguments)}function X(a,n,s,i,t){return j.apply(this,arguments)}function j(){return j=_asyncToGenerator(_regeneratorRuntime.mark(function a(n,s,i,t,S){return _regeneratorRuntime.wrap(function(f){for(;;)switch(f.prev=f.next){case 0:return f.abrupt("return",request("/api/store/stockIn/order/".concat(n),_objectSpread({method:"GET",params:_objectSpread(_objectSpread({},s),{},{sorter:i,filter:t})},S||{})));case 1:case"end":return f.stop()}},a)})),j.apply(this,arguments)}function q(a,n){return y.apply(this,arguments)}function y(){return y=_asyncToGenerator(_regeneratorRuntime.mark(function a(n,s){return _regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",request("/api/store/stockIn/orderItem",_objectSpread({method:"DELETE",data:n},s||{})));case 1:case"end":return t.stop()}},a)})),y.apply(this,arguments)}var Y=e(96459),z=e(70725),u=e(85893),V=function(){var n=(0,x.useState)(!1),s=(0,N.Z)(n,2),i=s[0],t=s[1],S=(0,x.useRef)(),v=(0,x.useState)([]),f=(0,N.Z)(v,2),p=f[0],w=f[1],K=(0,x.useState)(),T=(0,N.Z)(K,2),h=T[0],E=T[1],$=[{title:"\u8BA2\u5355ID",key:"id",dataIndex:"id",sorter:!0},{title:"\u8BA2\u5355\u53F7",key:"orderNo",dataIndex:"orderNo"},{title:"\u95E8\u5E97",key:"storeName",dataIndex:"storeName"},{title:"\u6765\u6E90",key:"source",dataIndex:"source"},{title:"\u6765\u6E90ID",key:"sourceOrderId",dataIndex:"sourceOrderId"},{title:"\u72B6\u6001",key:"status",dataIndex:"status"},{title:"\u521B\u5EFA\u65F6\u95F4",key:"createdAt",dataIndex:"createdAt",valueType:"dateTime",sorter:!0,hideInSearch:!0},{title:"\u64CD\u4F5C",key:"option",dataIndex:"option",hideInSearch:!0,hideInDescriptions:!0,render:function(l,o){return(0,u.jsx)(P.Z,{size:"middle",children:(0,u.jsx)("a",{onClick:function(){E(o),t(!0)},children:"\u67E5\u770B"},"edit")})}}];return(0,u.jsxs)(b.ZP,{children:[(0,u.jsx)(W.ZP,{pagination:z.oM,headerTitle:"headerTitle",actionRef:S,rowKey:"key",search:{labelWidth:120},request:F,columns:$,rowSelection:{onChange:function(l,o){w(o)}}}),(p==null?void 0:p.length)>0&&(0,u.jsx)(G.Z,{extra:(0,u.jsx)("div",{children:(0,u.jsxs)("span",{children:["\u5DF2\u9009\u4E2D",p.reduce(function(c,l){return c+l.id},0)," \u4E2A\u8D26\u53F7"]})}),children:(0,u.jsx)(g.Z,{onClick:(0,I.Z)(d().mark(function c(){var l,o;return d().wrap(function(C){for(;;)switch(C.prev=C.next){case 0:return console.log("selectedRowsState--->",p),C.next=3,U(p.map(function(Q){return Q.id}));case 3:w([]),(l=S.current)===null||l===void 0||(o=l.reloadAndRest)===null||o===void 0||o.call(l);case 5:case"end":return C.stop()}},c)})),children:"\u6279\u91CF\u5220\u9664"})}),(0,u.jsx)(A.Z,{width:600,visible:i,onClose:function(){E(void 0),t(!1)},closable:!1,children:(h==null?void 0:h.orderNo)&&(0,u.jsx)(Y.Z,{column:2,title:"\u5165\u5E93\u5355\u8BE6\u60C5",request:(0,I.Z)(d().mark(function c(){return d().wrap(function(o){for(;;)switch(o.prev=o.next){case 0:return o.abrupt("return",{data:h||{}});case 1:case"end":return o.stop()}},c)})),params:{id:h==null?void 0:h.id},columns:$})})]})},B=V}}]);
